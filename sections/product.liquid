<!-- TODO: add image carousel + zoom + 360 -->
<div class="section-product-img">
  {%- unless product.images == empty -%}
    <figure>
      {% capture mzp %}{% render 'magiczoomplus' %}{% endcapture %}
      {% if mzp contains 'Liquid error' %}
        {%- for image in product.images -%}
          <img
            {% render 'srcset', image: image, width: 1200 %}
            alt="{{ image.alt | default: product.title | escape }}"
            loading="{%- if forloop.first -%}eager{%- else -%}lazy{%- endif -%}"
          />
        {%- endfor -%}
      {% else %}
        {{ mzp }}
      {% endif %}
    </figure>
  {%- endunless -%}
</div>

<div class="section-product-txt">
  <div class="sticky">
    <h1 class="h1">{{ product.title }}</h1>
    {%- if product.description -%}
      <div>{{ product.description }}</div>
    {%- endif -%}
    {% render 'price', product: product %}
    {% render 'product-form', product: product %}
  </div>
</div>

{% stylesheet %}
  .section-product {
    display: grid;
    gap: 2rem 4rem;
  }

  /* desktop-and-up */
  @media screen and (min-width: 769px) {
    .section-product {
      grid-template-columns: repeat(2, 1fr);
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Product",
  "tag": "article",
  "class": "section-product container section-padding side-padding",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_dynamic_checkout",
      "label": "Show dynamic checkout buttons",
      "default": false,
      "info": "[More info](https://help.shopify.com/en/manual/online-store/dynamic-checkout?shpxid=504f73d0-655A-4E82-8958-225D920D5247)"
    }
  ]
}
{% endschema %}
