(function(){const a=document.querySelector.bind(document),l=document.querySelectorAll.bind(document);let r=a('form[action="/cart/add"]'),u=r.querySelector('select[name="id"]'),m=["size","color"],c=r.querySelector(".add-to-cart-btn"),p=r.querySelector(".sold-out-btn"),s=r.querySelector(".error-msg");r.addEventListener("change",b);function b(){let e=new FormData(r);m.forEach(t=>{let o=r.querySelector(`[data-option-preview="${t}"]`);o&&(o.innerHTML=e.get(t))});let n=m.map(t=>e.get(t)).join` / `,i=Array.from(u.options).find(t=>t.text.includes(n));if(i){c.removeAttribute("disabled"),s.setAttribute("hidden",!0),u.value=i.value;let{selectedPrice:t,selectedCompareAtPrice:o,selectedAvailable:y}=i.dataset;r.querySelector("[data-price]").innerHTML=v(t),r.querySelector("[data-compare-at-price]")&&(r.querySelector("[data-compare-at-price]").innerHTML=v(o)),y==="true"?(c.removeAttribute("hidden"),p.setAttribute("hidden",!0)):(c.setAttribute("hidden",!0),p.removeAttribute("hidden")),window.history.replaceState(null,null,`?variant=${i.value}`)}else c.setAttribute("disabled",!0),s.removeAttribute("hidden"),s.innerHTML="This configuration does not exist"}b();function v(e){const{format:n}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${n(e/100)}`}const S=(e,n)=>{!e[0].isIntersecting||(n.unobserve(d),fetch(d.dataset.url).then(i=>i.text()).then(i=>{const t=document.createElement("div");t.innerHTML=i;const o=t.querySelector(".product-recommendations");o&&o.innerHTML.trim().length&&(d.innerHTML=o.innerHTML)}).catch(console.error))},d=a(".product-recommendations");new IntersectionObserver(S,{rootMargin:"0px 0px 200px 0px"}).observe(d);const T=l('input[name="pdp-tabs"]'),f=l(".pdp-tab-item");function h(){f?.forEach(n=>{n.classList.remove("is-active")});const e=a('input[name="pdp-tabs"]:checked');a(`.pdp-tab-item[for="${e?.id}"]`)?.classList.add("is-active")}h(),T?.forEach(e=>{e.addEventListener("change",h)}),f?.forEach(e=>{if(e.innerText.includes("Dimensions")){let n=a(".link-to-sizes");n?.removeAttribute("hidden"),n?.addEventListener("click",()=>{a('.pdp-tab-item[for="pdp-tab-2"]')?.click()})}})})();
