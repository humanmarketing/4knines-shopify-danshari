(function(){const o=document.querySelector.bind(document),s=document.querySelectorAll.bind(document);let t=o('form[action="/cart/add"]'),l=t.querySelector('select[name="id"]'),u=["size","color"];t.addEventListener("change",()=>{let e=new FormData(t);u.forEach(i=>{let v=t.querySelector(`[data-option-preview="${i}"]`);v&&(v.innerHTML=e.get(i))});let r=u.map(i=>e.get(i)).join` / `,n=Array.from(l.options).find(i=>i.text.includes(r));l.value=n.value;let{selectedPrice:d,selectedCompareAtPrice:c,selectedAvailable:S}=n.dataset;t.querySelector("[data-price]").innerHTML=m(d),t.querySelector("[data-compare-at-price]")&&(t.querySelector("[data-compare-at-price]").innerHTML=m(c)),S==="true"?(t.querySelector(".add-to-cart-btn").removeAttribute("hidden"),t.querySelector(".sold-out-btn").setAttribute("hidden",!0)):(t.querySelector(".add-to-cart-btn").setAttribute("hidden",!0),t.querySelector(".sold-out-btn").removeAttribute("hidden")),window.history.replaceState(null,null,`?variant=${n.value}`)});function m(e){const{format:r}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${r(e/100)}`}const f=(e,r)=>{!e[0].isIntersecting||(r.unobserve(a),fetch(a.dataset.url).then(n=>n.text()).then(n=>{const d=document.createElement("div");d.innerHTML=n;const c=d.querySelector(".product-recommendations");c&&c.innerHTML.trim().length&&(a.innerHTML=c.innerHTML)}).catch(console.error))},a=o(".product-recommendations");new IntersectionObserver(f,{rootMargin:"0px 0px 200px 0px"}).observe(a);const h=s('input[name="pdp-tabs"]'),p=s(".pdp-tab-item");function b(){p?.forEach(r=>{r.classList.remove("is-active")});const e=o('input[name="pdp-tabs"]:checked');o(`.pdp-tab-item[for="${e?.id}"]`)?.classList.add("is-active")}b(),h?.forEach(e=>{e.addEventListener("change",b)}),p?.forEach(e=>{if(e.innerText.includes("Dimensions")){let r=o(".link-to-sizes");r?.removeAttribute("hidden"),r?.addEventListener("click",()=>{o('.pdp-tab-item[for="pdp-tab-2"]')?.click()})}})})();
