(function(){const i=document.querySelector.bind(document),d=document.querySelectorAll.bind(document);let n=i('form[action="/cart/add"]'),l=n.querySelector('select[name="id"]'),m=["size","color"];n.addEventListener("change",()=>{let e=new FormData(n);m.forEach(o=>{let v=n.querySelector(`[data-option-preview="${o}"]`);v&&(v.innerHTML=e.get(o))});let t=m.map(o=>e.get(o)).join` / `,r=Array.from(l.options).find(o=>o.text.includes(t));l.value=r.value;let{selectedPrice:s,selectedCompareAtPrice:c}=r.dataset;n.querySelector("[data-price]").innerHTML=u(s),n.querySelector("[data-compare-at-price]")&&(n.querySelector("[data-compare-at-price]").innerHTML=u(c)),window.history.replaceState(null,null,`?variant=${r.value}`)});function u(e){const{format:t}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${t(e/100)}`}const b=(e,t)=>{!e[0].isIntersecting||(t.unobserve(a),fetch(a.dataset.url).then(r=>r.text()).then(r=>{const s=document.createElement("div");s.innerHTML=r;const c=s.querySelector(".product-recommendations");c&&c.innerHTML.trim().length&&(a.innerHTML=c.innerHTML)}).catch(console.error))},a=i(".product-recommendations");new IntersectionObserver(b,{rootMargin:"0px 0px 200px 0px"}).observe(a);const h=d('input[name="pdp-tabs"]'),p=d(".pdp-tab-item");function f(){p?.forEach(t=>{t.classList.remove("is-active")});const e=i('input[name="pdp-tabs"]:checked');i(`.pdp-tab-item[for="${e?.id}"]`)?.classList.add("is-active")}f(),h?.forEach(e=>{e.addEventListener("change",f)}),p?.forEach(e=>{if(e.innerText.includes("Dimensions")){let t=i(".link-to-sizes");t?.removeAttribute("hidden"),t?.addEventListener("click",()=>{i('.pdp-tab-item[for="pdp-tab-2"]')?.click()})}})})();
