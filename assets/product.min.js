(function(){const i=document.querySelector.bind(document),d=document.querySelectorAll.bind(document);let t=i('form[action="/cart/add"]'),l=t.querySelector('select[name="id"]'),m=["size","color"];t.addEventListener("change",()=>{let e=new FormData(t);m.forEach(o=>{let v=t.querySelector(`[data-option-preview="${o}"]`);v&&(v.innerHTML=e.get(o))});let n=m.map(o=>e.get(o)).join` / `,r=Array.from(l.options).find(o=>o.text.includes(n));l.value=r.value;let{selectedPrice:s,selectedCompareAtPrice:c}=r.dataset;t.querySelector("[data-price]").innerHTML=u(s),t.querySelector("[data-compare-at-price]")&&(t.querySelector("[data-compare-at-price]").innerHTML=u(c)),window.history.replaceState(null,null,`?variant=${r.value}`)});function u(e){const{format:n}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${n(e/100)}`}const b=(e,n)=>{!e[0].isIntersecting||(n.unobserve(a),fetch(a.dataset.url).then(r=>r.text()).then(r=>{const s=document.createElement("div");s.innerHTML=r;const c=s.querySelector(".product-recommendations");c&&c.innerHTML.trim().length&&(a.innerHTML=c.innerHTML)}).catch(console.error))},a=i(".product-recommendations");new IntersectionObserver(b,{rootMargin:"0px 0px 200px 0px"}).observe(a);const h=d('input[name="pdp-tabs"]'),p=d(".pdp-tab-item");function f(){p?.forEach(n=>{n.classList.remove("is-active")});const e=i('input[name="pdp-tabs"]:checked');i(`.pdp-tab-item[for="${e?.id}"]`)?.classList.add("is-active")}f(),h?.forEach(e=>{e.addEventListener("change",f)}),p?.forEach(e=>{e.innerText.includes("Dimensions")&&i(".link-to-sizes")?.removeAttribute("hidden")})})();
