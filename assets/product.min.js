(function(){let r=document.querySelector('form[action="/cart/add"]'),l=r.querySelector('select[name="id"]'),s=["size","color"];r.addEventListener("change",()=>{let e=new FormData(r);s.forEach(o=>{let u=r.querySelector(`[data-option-preview="${o}"]`);u&&(u.innerHTML=e.get(o))});let n=s.map(o=>e.get(o)).join` / `,t=Array.from(l.options).find(o=>o.text.includes(n));l.value=t.value;let{selectedPrice:i,selectedCompareAtPrice:c}=t.dataset;r.querySelector("[data-price]").innerHTML=d(i),r.querySelector("[data-compare-at-price]")&&(r.querySelector("[data-compare-at-price]").innerHTML=d(c)),window.history.replaceState(null,null,`?variant=${t.value}`)});function d(e){const{format:n}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${n(e/100)}`}const p=(e,n)=>{!e[0].isIntersecting||(n.unobserve(a),fetch(a.dataset.url).then(t=>t.text()).then(t=>{const i=document.createElement("div");i.innerHTML=t;const c=i.querySelector(".product-recommendations");c&&c.innerHTML.trim().length&&(a.innerHTML=c.innerHTML)}).catch(console.error))},a=document.querySelector(".product-recommendations");new IntersectionObserver(p,{rootMargin:"0px 0px 200px 0px"}).observe(a);const v=document.querySelectorAll('input[name="pdp-tabs"]'),f=document.querySelectorAll(".pdp-tab-item");function m(){const e=document.querySelector('input[name="pdp-tabs"]:checked');f.forEach(t=>{t.classList.remove("is-active")}),document.querySelector(`.pdp-tab-item[for="${e.id}"]`).classList.add("is-active")}m(),v.forEach(e=>{e.addEventListener("change",m)})})();
