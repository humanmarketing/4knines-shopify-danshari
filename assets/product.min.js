(()=>{var a=document.querySelector.bind(document),s=document.querySelectorAll.bind(document);function l(e){let{format:n}=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`$${n(e/100)}`}var r=a('form[action="/cart/add"]'),p=r.querySelector('select[name="id"]'),c=r.querySelector(".add-to-cart-btn"),b=r.querySelector(".sold-out-btn"),u=r.querySelector(".error-msg"),f=Array.from(r.querySelectorAll(".variant-selector")).map(e=>e.dataset.optionName);r.addEventListener("change",v);function v(){let e=new FormData(r);f.forEach(t=>{let o=r.querySelector(`[data-option-preview="${t}"]`);o&&(o.innerHTML=e.get(t))});let n=f.map(t=>e.get(t)).join` / `,i=Array.from(p.options).find(t=>t.text.includes(n));if(i){c.removeAttribute("disabled"),u.setAttribute("hidden",!0),p.value=i.value;let{selectedPrice:t,selectedCompareAtPrice:o,selectedAvailable:y}=i.dataset;r.querySelector("[data-price]").innerHTML=l(t),r.querySelector("[data-compare-at-price]")&&(r.querySelector("[data-compare-at-price]").innerHTML=l(o)),y==="true"?(c.removeAttribute("hidden"),b.setAttribute("hidden",!0)):(c.setAttribute("hidden",!0),b.removeAttribute("hidden"));let m=new URLSearchParams(window.location.search);m.set("variant",i.value),window.history.replaceState({},"",`?${m.toString()}`)}else c.setAttribute("disabled",!0),u.removeAttribute("hidden"),u.innerHTML="This configuration does not exist"}v();var T=(e,n)=>{!e[0].isIntersecting||(n.unobserve(d),fetch(d.dataset.url).then(i=>i.text()).then(i=>{let t=document.createElement("div");t.innerHTML=i;let o=t.querySelector(".product-recommendations");o&&o.innerHTML.trim().length&&(d.innerHTML=o.innerHTML)}).catch(console.error))},d=a(".product-recommendations"),A=new IntersectionObserver(T,{rootMargin:"0px 0px 200px 0px"});A.observe(d);var L=s('input[name="pdp-tabs"]'),h=s(".pdp-tab-item");function S(){h?.forEach(n=>{n.classList.remove("is-active")});let e=a('input[name="pdp-tabs"]:checked');a(`.pdp-tab-item[for="${e?.id}"]`)?.classList.add("is-active")}S();L?.forEach(e=>{e.addEventListener("change",S)});h?.forEach(e=>{if(e.innerText.includes("Dimensions")){let n=a(".link-to-sizes");n?.removeAttribute("hidden"),n?.addEventListener("click",()=>{a('.pdp-tab-item[for="pdp-tab-2"]')?.click()})}});})();
